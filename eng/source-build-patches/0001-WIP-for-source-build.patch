From 48442474744a416eee4f367d3e389a0916047842 Mon Sep 17 00:00:00 2001
From: Omair Majid <omajid@redhat.com>
Date: Thu, 29 Oct 2020 18:20:09 -0400
Subject: [PATCH 1/4] WIP for source-build

This is a grab-bag of fixes to make roslyn-analzyers build in a
source-build context.

- Fix up TargetFrameworks:
  - Remove net46, net47, etc
  - Move from netstandard 1.3 to 2.0

- Remove FxCopAnalyzers.sln, which is not needed for source-build

---
 RoslynAnalyzers.sln                           | 256 ---------------
 eng/Versions.props                            |   4 +
 eng/common/dotnet-install.sh                  |   0
 37 files changed, 436 insertions(+), 492 deletions(-)
 delete mode 100644 FxCopAnalyzers.sln
 mode change 100644 => 100755 eng/common/dotnet-install.sh

diff --git a/eng/Versions.props b/eng/Versions.props
index 23f5ee1bd..ced06221d 100644
--- a/eng/Versions.props
+++ b/eng/Versions.props
@@ -25,6 +25,7 @@
     <CodeStyleAnalyersVersion>$(MicrosoftNETCoreCompilersPackageVersion)</CodeStyleAnalyersVersion>
     <!-- Roslyn -->
     <MicrosoftCodeAnalysisVersion>3.3.1</MicrosoftCodeAnalysisVersion>
+    <MicrosoftCodeAnalysisCommonVersion>3.3.1</MicrosoftCodeAnalysisCommonVersion>
     <MicrosoftCodeAnalysisForRoslynDiagnosticsAnalyzersVersion>3.7.0</MicrosoftCodeAnalysisForRoslynDiagnosticsAnalyzersVersion>
     <MicrosoftCodeAnalysisVersionForTests>3.8.0</MicrosoftCodeAnalysisVersionForTests>
     <DogfoodAnalyzersVersion>3.3.2</DogfoodAnalyzersVersion>
@@ -48,4 +49,7 @@
     <HumanizerVersion>2.2.0</HumanizerVersion>
     <XunitCombinatorialVersion>1.2.7</XunitCombinatorialVersion>
   </PropertyGroup>
+
+  <!-- Override isolated build dependency versions with versions from Repo API. -->
+  <Import Project="$(DotNetPackageVersionPropsPath)" Condition="'$(DotNetPackageVersionPropsPath)' != ''" />
 </Project>
-- 
2.26.2

